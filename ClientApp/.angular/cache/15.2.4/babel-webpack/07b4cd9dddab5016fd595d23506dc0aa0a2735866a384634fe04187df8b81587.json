{"ast":null,"code":"import { map } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../_services/account.service\";\nimport * as i2 from \"ngx-toastr\";\nimport * as i3 from \"@angular/router\";\nexport class AuthGuard {\n  constructor(accountService, toastr, router) {\n    this.accountService = accountService;\n    this.toastr = toastr;\n    this.router = router;\n  }\n  canActivate() {\n    return this.accountService.currentUser$.pipe(map(user => {\n      if (user) return true;else {\n        this.toastr.error('You are not authorized.');\n        this.router.navigateByUrl('/');\n        return false;\n      }\n    }));\n  }\n}\nAuthGuard.ɵfac = function AuthGuard_Factory(t) {\n  return new (t || AuthGuard)(i0.ɵɵinject(i1.AccountService), i0.ɵɵinject(i2.ToastrService), i0.ɵɵinject(i3.Router));\n};\nAuthGuard.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: AuthGuard,\n  factory: AuthGuard.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"mappings":"AASA,SAASA,GAAG,QAAoB,MAAM;;;;;AAMtC,OAAM,MAAOC,SAAS;EACpBC,YACUC,cAA8B,EAC9BC,MAAqB,EACrBC,MAAc;IAFd,mBAAc,GAAdF,cAAc;IACd,WAAM,GAANC,MAAM;IACN,WAAM,GAANC,MAAM;EACb;EACHC,WAAW;IACT,OAAO,IAAI,CAACH,cAAc,CAACI,YAAY,CAACC,IAAI,CAC1CR,GAAG,CAAES,IAAI,IAAI;MACX,IAAIA,IAAI,EAAE,OAAO,IAAI,CAAC,KACjB;QACH,IAAI,CAACL,MAAM,CAACM,KAAK,CAAC,yBAAyB,CAAC;QAC5C,IAAI,CAACL,MAAM,CAACM,aAAa,CAAC,GAAG,CAAC;QAC9B,OAAO,KAAK;;IAEhB,CAAC,CAAC,CACH;EACH;;AAjBWV,SAAS;mBAATA,SAAS;AAAA;AAATA,SAAS;SAATA,SAAS;EAAAW,SAATX,SAAS;EAAAY,YAFR;AAAM","names":["map","AuthGuard","constructor","accountService","toastr","router","canActivate","currentUser$","pipe","user","error","navigateByUrl","factory","providedIn"],"sourceRoot":"","sources":["C:\\Users\\deanm\\source\\repos\\JobSearchTracker\\ClientApp\\src\\app\\_guards\\auth.guard.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport {\n  ActivatedRouteSnapshot,\n  CanActivate,\n  Router,\n  RouterStateSnapshot,\n  UrlTree,\n} from '@angular/router';\nimport { ToastrService } from 'ngx-toastr';\nimport { map, Observable } from 'rxjs';\nimport { AccountService } from '../_services/account.service';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class AuthGuard implements CanActivate {\n  constructor(\n    private accountService: AccountService,\n    private toastr: ToastrService,\n    private router: Router\n  ) {}\n  canActivate(): Observable<boolean> {\n    return this.accountService.currentUser$.pipe(\n      map((user) => {\n        if (user) return true;\n        else {\n          this.toastr.error('You are not authorized.');\n          this.router.navigateByUrl('/');\n          return false;\n        }\n      })\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}